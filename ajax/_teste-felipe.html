<!-- Bread crumb is created dynamically -->
<!-- row -->
<div class="row">

	<!-- col -->
	<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
		<h1 class="page-title txt-color-blueDark">

			<!-- PAGE HEADER -->
			<i class="fa-fw fa fa-home"></i>
				eSocial
			<span>>
				Protótipo eSocial
			</span>
		</h1>
	</div>
	<!-- end col -->

	<!-- right side of the page with the sparkline graphs -->
	<!-- col -->
	<div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
		<!-- sparks -->
		<ul id="sparks">
			<li class="sparks-info">
				<h5 title="85 arquivos enviados nessa competência"> Enviados <span class="txt-color-blue">85</span></h5>
				<div class="sparkline txt-color-blue hidden-mobile hidden-md hidden-sm">
					5, 1, 5, 6, 4, 2, 4, 3, 3
				</div>
			</li>
			<li class="sparks-info">
				<h5 title="26 arquivos geraram erro nessa competência"> Erro <span class="txt-color-red"><i class="fa fa-arrow-circle-up" data-rel="bootstrap-tooltip" title="Increased"></i>&nbsp;26</span></h5>
				<div class="sparkline txt-color-red hidden-mobile hidden-md hidden-sm">
					1, 0, 0, 0, 2, 0, 4, 0, 1
				</div>
			</li>
			<li class="sparks-info">
				<h5 title="69 arquivos enviados com sucesso nessa competência"> Sucesso <span class="txt-color-green"><i class="fa fa-arrow-circle-down"></i>&nbsp;69</span></h5>
				<div class="sparkline txt-color-green hidden-mobile hidden-md hidden-sm">
					4, 1, 5, 6, 2, 2, 0, 3, 2
				</div>
			</li>
			<li class="sparks-info">
				<h5 title="Próximo envio está agendado para 07/06/2015 01:00"> Próximo envio <span class="txt-color-grey"></i>07/06/2015</span></h5>
			</li>
		</ul>
		<!-- end sparks -->
	</div>
	<!-- end col -->

</div>
<!-- end row -->

<!--
	The ID "widget-grid" will start to initialize all widgets below
	You do not need to use widgets if you dont want to. Simply remove
	the <section></section> and you can use wells or panels instead
	-->

<!-- widget grid -->
<section id="widget-grid" class="">

	<!-- row -->
	<div class="row">

		<!-- Arquivos enviados: sucesso x erro -->
		<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

			<div class="jarviswidget" id="wid-arquivos-enviados" data-widget-deletebutton="false" data-widget-colorbutton="false" data-widget-fullscreenbutton="false" data-widget-editbutton="false" data-widget-sortable="false">
				<header>
					<h2>Arquivos enviados </h2>
				</header>

				<!-- widget div-->
				<div>
					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<!-- This area used as dropdown edit box -->
						<input class="form-control" type="text">
					</div>
					<!-- end widget edit box -->

					<!-- widget content -->
					<div class="widget-body">
						<!-- this is what the user will see -->
						<div style="width: 60%; display: inline-block">
							<canvas id="arquivosEnviados" height="120"></canvas>
						</div>
						<div style="width: 37%; display: inline-block">
							<canvas id="sucessoXerro" height="150" style="width: 50%"></canvas>
								<ul class="sparks-info lista-sem-bullet">
									<li><span>26</span> arquivos com erro</li>
									<li><span>69</span> arquivos enviados com sucesso</li>
								</ul>
							</div>
						</div>
						<div id="arquivosEnviadosLegend">
						</div>
					</div>
					<!-- end widget content -->
				</div>
				<!-- end widget div -->
			</div>
			<!-- end widget -->
		</article>
		<!-- fim Arquivos enviados: sucesso x erro -->

	</div>
	<!-- end row -->

</section>
<!-- end widget grid -->

<style type="text/css">
	.lista-sem-bullet>li {
		display: block;
	}
  #arquivosEnviadosLegend {
		width: 50%;
		margin-left: auto;
		margin-right: auto;
		margin-top: 20px;
	}
	.bar-legend {
		height: 20px;
	}
	.bar-legend>li {
		display: block;
		float: left;
		margin-left: 10px;
	}
	.bar-legend>li>span {
		margin-top: 2px;
		display: inline-block;
		width: 19px;
		border-radius: 4px;
		margin-right: 7px;
	}
</style>
<script type="text/javascript">

	/* DO NOT REMOVE : GLOBAL FUNCTIONS!
	 *
	 * pageSetUp(); WILL CALL THE FOLLOWING FUNCTIONS
	 *
	 * // activate tooltips
	 * $("[rel=tooltip]").tooltip();
	 *
	 * // activate popovers
	 * $("[rel=popover]").popover();
	 *
	 * // activate popovers with hover states
	 * $("[rel=popover-hover]").popover({ trigger: "hover" });
	 *
	 * // activate inline charts
	 * runAllCharts();
	 *
	 * // setup widgets
	 * setup_widgets_desktop();
	 *
	 * // run form elements
	 * runAllForms();
	 *
	 ********************************
	 *
	 * pageSetUp() is needed whenever you load a page.
	 * It initializes and checks for all basic elements of the page
	 * and makes rendering easier.
	 *
	 */

	pageSetUp();

	/*
	 * ALL PAGE RELATED SCRIPTS CAN GO BELOW HERE
	 * eg alert("my home function");
	 *
	 * var pagefunction = function() {
	 *   ...
	 * }
	 * loadScript("js/plugin/_PLUGIN_NAME_.js", pagefunction);
	 *
	 * TO LOAD A SCRIPT:
	 * var pagefunction = function (){
	 *  loadScript(".../plugin.js", run_after_loaded);
	 * }
	 *
	 * OR you can load chain scripts by doing
	 *
	 * loadScript(".../plugin.js", function(){
	 * 	 loadScript("../plugin.js", function(){
	 * 	   ...
	 *   })
	 * });
	 */

	var pagefunction = function() {
		// BAR CHART
		var barOptions = {
			// Animação
			animationEasing : "easeOutBounce",
			//Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
			scaleBeginAtZero : true,
			//Boolean - Whether grid lines are shown across the chart
			scaleShowGridLines : true,
			//String - Colour of the grid lines
			scaleGridLineColor : "rgba(0,0,0,.05)",
			//Number - Width of the grid lines
			scaleGridLineWidth : 1,
			//Boolean - If there is a stroke on each bar
			barShowStroke : true,
			//Number - Pixel width of the bar stroke
			barStrokeWidth : 1,
			//Number - Spacing between each of the X value sets
			barValueSpacing : 5,
			//Number - Spacing between data sets within X values
			barDatasetSpacing : 1,
			//Boolean - Re-draw chart on page resize
				responsive: true,
			//String - A legend template
			legendTemplate : "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\">&nbsp;</span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>"
		};

		var barData = {
				labels: ["S1000", "S1020", "S2020", "S2030", "S2040", "S2050", "S2200"],
				datasets: [
					{
							label: "Total",
							fillColor: "rgba(151,187,205,0.6)",
							strokeColor: "rgba(151,187,205,0.8)",
							highlightFill: "rgba(151,187,205,0.75)",
							highlightStroke: "rgba(151,187,205,1)",
							data: [11, 12, 17, 5, 10, 8, 22]
					},
					{
							label: "Arquivos com sucesso",
							fillColor: "rgba(105,187,105,0.6)",
							strokeColor: "rgba(105,187,105,0.8)",
							highlightFill: "rgba(105,187,105,0.75)",
							highlightStroke: "rgba(105,187,105,1)",
							data: [10, 12, 16, 5, 1, 4, 21]
					},
					{
							label: "Arquivos com erro",
							fillColor: "rgba(220,100,100,0.6)",
							strokeColor: "rgba(220,100,100,0.8)",
							highlightFill: "rgba(220,100,100,0.75)",
							highlightStroke: "rgba(220,100,100,1)",
							data: [1, 0, 10, 1, 9, 4, 1]
					}
			]
		};

		// render chart
		var ctx = document.getElementById("arquivosEnviados").getContext("2d");
		arquivosEnviadosChart = new Chart(ctx).Bar(barData, barOptions);

		$('#arquivosEnviadosLegend').html(arquivosEnviadosChart.generateLegend());
		// END BAR CHART

		// PIZZA CHART
		var pieOptions = {
			//Boolean - Whether we should show a stroke on each segment
				segmentShowStroke: true,
				//String - The colour of each segment stroke
				segmentStrokeColor: "#fff",
				//Number - The width of each segment stroke
				segmentStrokeWidth: 2,
				//Number - Amount of animation steps
				animationSteps: 100,
				//String - types of animation
				animationEasing: "easeOutBounce",
				//Boolean - Whether we animate the rotation of the Doughnut
				animateRotate: true,
				//Boolean - Whether we animate scaling the Doughnut from the centre
				animateScale: false,
				//Boolean - Re-draw chart on page resize
				responsive: true,
				//String - A legend template
				legendTemplate : "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>"
		};
		var pieData = [
		{
					value: 69,
					color:"rgba(105,187,105,0.75)",
					highlight: "rgba(105,187,105,0.9)",
					label: "Sucesso"
			},
			{
					value: 26,
					color: "rgba(220,100,100,0.75)",
					highlight: "rgba(220,100,100,1)",
					label: "Erro"
			}
		];
		// render chart
		var ctx = document.getElementById("sucessoXerro").getContext("2d");
		myNewChart_6 = new Chart(ctx).Pie(pieData, pieOptions);
		// END PIZZA CHART
	};

	// end pagefunction

	// destroy generated instances
	// pagedestroy is called automatically before loading a new page
	// only usable in AJAX version!

	var pagedestroy = function(){

		/*
		Example below:

		$("#calednar").fullCalendar( 'destroy' );
		if (debugState){
			root.console.log("✔ Calendar destroyed");
		}

		For common instances, such as Jarviswidgets, Google maps, and Datatables, are automatically destroyed through the app.js loadURL mechanic

		*/
	}

	// end destroy

	// run pagefunction
	// pagefunction();

	loadScript("js/plugin/chartjs/chart.min.js", pagefunction);

</script>
